### 一、Array(3)和 Array(3, 4)的区别？

**考察知识点：**

1. `Array()`和`new Array()`

2. `Array()`参数个数不同时的不同表现

3. `Array.of()`的作用

```javascript
console.log(Array(3)) // [empty x 3]
console.log(Array(3, 4)) // [3, 4]

console.log(new Array(3)) // [empty x 3]
console.log(new Array(3, 4)) // [3, 4]

console.log(Array.of(3)) // [3]
console.log(Array.of(3, 4)) // [3, 4]

```

**总结：**

- `Array`使不使用`new`效果都是一样的
- `Array`方法，如果参数是一位的话，这个参数表示的是数组的长度，并创建此长度的空数组
- `Array`方法，如果参数是多位的话则每一个参数都是数组的一项，会按顺序返回数组
- `Array.of()`接收任意个参数，将按顺序成为返回数组中的元素，并返回这个新数组。

### 二、请创建一个长度为 10，值为对应下标的数组

```javascript
//方法一
//使用Array(10)创建一个内容全为empty的数组：[empty x 10],每个元素都为empty，不能直接遍历

const transArr = Array(10)
  .join(",")
  .split(",")
  .map((v, i) => {
    return i;
  });
console.log(transArr[0]);  // 0


//方法二
// fill() 方法用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。
const b = Array(10)
  .fill()
  .map((v, i) => i);
console.log(b[0]);
```



### 三、实现 arr[-1] = arr[arr.length - 1]

[ES6中的代理模式-----Proxy](https://juejin.cn/post/6844903545599164423)

数组对象其实是一个特殊对象，他拥有普通对象的全部特性，所以不止负索引，小数索引，连字符串索引都是可以的，只是用这些索引向数组添加属性时，数组的length不会增加罢了，而只有当索引是正整数或其对应数字串时，length才会增加，仅此而已。

```javascript
const a = [1, 2, 3, 4];
const b = [1,2,3]
console.log(b[-1]) // undefined


a[-1] = "a";  //相当于向数组对象中添加一个属性,数组长度不变
console.log(a[-1], a.length);  // 'a' 4
```



**这道题的意思是：提供一个`createArr()`方法，用此方法创建的数组满足`arr[-1] = arr[arr.length - 1]`：**

```javascript
function createArr(...ele) {
  let handler = {
    //target 目标数组 key 下标
    get(target, key) {
      let index = Number(key);
      if (index < 0) {
        index = String(target.length + index);
      }
      return Reflect.get(target, index);
    },
  };
  let target = [...ele];
  return new Proxy(target, handler);
}

var arr1 = createArr(1, 2, 3);
console.log(arr1[-1]);   // 3
console.log(arr1[-2]);   // 2
```

**注意点：**

- `get`接收到的第二个参数`key`表示的是数组下标，它是字符串形式，所以需要转为`Number`，当然方法有很多种了，使用`Number()`也可以，使用`~~`双非按位取反运算符也可以。对比于`Number()`的好处就是`Number(undefined)`会转换为`NaN`；但是使用`~~`能保证一直是数字，`~~undefined === 0`。(什么？你还不知道区别？那你得看霖呆呆的这篇文章了：[JS中按位取反运算符~及其它运算符](https://link.juejin.cn?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2F3c0f56f3190a))
- 接下来只需要判断一下传入进来的下标是不是小于0的，小于0的话加上数组的长度就可以了
- 然后返回`index`这一项使用的是`Reflect.get(target, index)`。什么？为什么不直接用`target[index]`？当然这样也可以，对比`target[index]`的区别就是`Reflect.get(target, index)`如果传入的`target`不是一个`Object`的话(数组也属于对象)，就会报一个类型错误`TypeError`，而`target[index]`返回的会是一个`undefined`



### 四、addEventListener 函数的第三个参数

第三个参数涉及到冒泡和捕获，是`true`时为捕获，是`false`则为冒泡。

或者是一个对象`{passive: true}`，针对的是`Safari`浏览器，禁止/开启使用滚动的时候要用到。

### 五、addEventListener 和 attachEvent 的区别？

1. 前者是标准浏览器的用法，后者是ie8以下
2. addEventListener可以有冒泡和捕获，attachEvent只有冒泡
3. 前者事件名带on，后者带on
4. 前者回调函数中的this指向当前元素，后者指向window

```javascript
<button id="btn1">attachEvent</button>
<button id="btn2">addEventListener</button>
<script>
  //   document.getElementById("btn1").attachEvent("onclick", function () {
  //     console.log(1);
  //   });

  document.getElementById("btn2").addEventListener("click", function () {
    //this指向当前点击事件
    console.log(2, this);
  });
</script>
```



### 六、文字单行超出显示省略号,文字多行超出显示省略号

```html
// white-space CSS 属性是用来设置如何处理元素中的 空白 (en-US)。

<style>
  // 文字单行超出显示省略号
  p {
    overflow: hidden;
    white-space: nowrap;  // nowrap 连续的空白符会被合并。但文本内的换行无效
    text-overflow: ellipsis;  // 超出部分用...表示
    /* text-overflow: clip; */  // 文本超出部分剪切
  }
  
   // 文字多行超出显示省略号
  p {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    overflow: hidden;
  }
</style>

<p>
  软件许可证是一种具有法律性质的合同或指导，目的在规范受著作权保护的软件的使用或散布行为。通常的授权方式会允许用户来使用单一或多份该软件的复制，因为若无授权而径予使用该软件，将违反著作权法给予该软件开发者的专属保护。效用上来说，软件授权是软件开发者与其用户之间的一份合约，用来保证在匹配授权范围的情况下，用户将不会受到控告。
  作者：胡桓铭 链接：https://zhuanlan.zhihu.com/p/28618630 来源：知乎
  著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
</p>
```

