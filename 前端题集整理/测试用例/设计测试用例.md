# 测试用例

## 黑盒测试和白盒测试

**任何一个程序在测试时都由这几部分组成：输入、程序的处理过程和输出三部分**

- `黑盒测试`是指在整个测试过程中只关注输入和输出，如果输入一个测试数据，输出的结果是正确的，我们就认为这个功能是正确的。对应系统测试

- `白盒测试`不仅仅关注输入与输出的结果是否正确，同时还关注程序是如何处理的。对应单元测试

- `灰盒测试`是界于黑盒测试和白盒测试之间的一种测试。整个测试的流程包括单元测试、集成测试、系统测试

## 测试用例怎么写
1. 测试数据，操作步骤，预期结果和实际结果
2. 前置条件，用例标题，编号，重要级别，编写人等


## 设计方法

### 1. 等价类

`针对输入项`

- 等价类：某个输入域的集合，在这个集合中每个输入条件都是等效的，如果其中一个输入不能导致问题发生，那么集合中其它输入条件进行测试也不可能发现在错误

- 有效等价类：程序规格说明有意义，合理的输入数据

> 用户可以不做输入，但是不能不做提交

- 无效等价类：程序规格说明无意义，不合理的输入数据

**划分等价类原则**

+ 如果输入条件规定了`取值范围或值的格式`，则可以确定一个有效等价类和两个无效等价类

    + 0 < 值 < 100  (0,100) 有效类 小于等于0或大于等于100都是无效类

+ 如果输入条件规定了`输入值的集合`或`规定必须如何的条件`，则可以确定一个有效等价类和一个无效等价类

+ 在规定了`输入数据的一组值有n个且程序要对每一个输入值分别处理的情况下`，则可以确定n个有效等价类和一个无效等价类

+ 如果输入条件是一个`布尔量`的情况下，则可以确定一个有效等价类和一个无效等价类

+ 在规定了`输入数据必须遵守的规则`的情况下，则可以确定n个有效等价类和n个无效等价类


### 2. 边界值分析法

1. 输入条件明确了一个值的取值范围，或规定了值的个数

2. 输入条件明确了一个有序集合


**边界值分析的原则**

+ 如果输入（输出）条件规定了`取值范围，或是规定了值的个数`，则应该以该范围的边界内及边界附近的值作为测试用例

+ 如果输入（输出）条件规定了`值的个数`，则用最大个数，最小个数，比最小个数少一，比最大个数多一的数作为测试数据

+ 如果输入（输出）是一个`有序集合`，则应该选取有序集合的第一个和最后一个作为测试用例

+ 如果程序中使用了一个`内部数据结构`，则应当选择这个内部数据结构的边界上的值作为测试用例

**边界点定义**

+ 上点

    + 边界上的点，如果域的边界是封闭的，上点就在域范围内；如果域的边界是开发的，上点就在域范围外

+ 离点

    + 离上点最近的一个点，如果域的边界是封闭的，离点就在域范围外；反之，在域范围内

+ 内点

    + 在域范围内的任意一个点

> 例子：发红包      
> 
> 金额 (0,200]
>
> 上点 200 0
>
> 离点`(加减一个单位)`  200.01 0.01 
>
> 内点 199.99


### 3. 判定表

判定表是分析和表达多种输入条件下，系统执行不同动作的工具，它可以把复杂的逻辑关系和多种条件组合的情况表达得既具体又明确

- 条件桩 ： 输入项

- 动作桩 ： 输出项

- 条件项 ： 输入项取值组合

- 动作项 ： 输出项取值组合

**判定表设计用例的步骤**

> 列出所有的输入和输出
>
> 确定规则的个数，如果又3个条件，每个条件又2个取值，固有2*2*2=8种规则
>
> 填入条件项
>
> 填入动作桩和动作项
>
> 花间，合并相似规则
>
> 将每条规则转化为用例
